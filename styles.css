:root{
  /* base */
  --bg:#0b0d10;        /* NEGRO (barra superior e inferior) */
  --bg-mid:#0f141a;    /* oscuro de la zona intermedia (sección) */
  --text:#e8f0f7; --muted:#a6b2bd; --brand:#66d9e8; --brand-2:#7cde96;
  --border:#233041; --shadow:0 10px 30px rgba(0,0,0,.35);

  /* alturas aproximadas para calcular el alto mínimo de la página */
  --topbar-h: 52px;
  --footer-h: 70px;

  /* animaciones varias */
  --hop-height:4px; --hop-duration:1.6s; --hop-stagger:0.08s;
  --alpha-min:.35; --alpha-max:1; --alpha-duration:1.6s;
  --vorbit-duration:2.8s; --vorbit-direction:1; --vorbit-amplitude:6px;
  --vorbit-blink-color:#ff5cb6; --vorbit-blink-duration:180ms;
  --spin-duration:2.5s; --spin-direction:normal;

  /* tema por sección (se sobreescribe con body[data-section]) */
  --sec-rgb:102,217,232;   /* resplandor de la zona intermedia */
  --card-rgb:102,217,232;  /* resplandor de las tarjetas */
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Arial;color:var(--text);background:var(--bg);}
.container{width:min(1100px,92%);margin:0 auto}

/* =========================
   HEADER / NAV
   ========================= */
.topbar{position:sticky;top:0;z-index:1000;background:var(--bg);border-bottom:1px solid var(--border);overflow:hidden}
.nav-container{display:flex;align-items:center;justify-content:space-between;padding:10px 16px;gap:20px;width:100%}
.brand{font-weight:700;white-space:nowrap;text-decoration:none;color:var(--text)}
.nav-toggle{display:none;background:transparent;border:1px solid var(--border);color:var(--text);border-radius:8px;padding:6px 10px;cursor:pointer}
.nav-list{display:flex;align-items:center;gap:24px;list-style:none;margin:0;padding:0}
.nav-list a{text-decoration:none;color:var(--text);opacity:.9;white-space:nowrap}
.nav-list a:hover,.nav-list a.active{opacity:1}
.nav-right{display:flex;align-items:center;gap:12px}
.nav-right select{background:#14161a;color:var(--text);border:1px solid var(--border);border-radius:8px;padding:6px 10px}
@media (max-width:1280px){
  .nav-toggle{display:inline-flex}
  .nav-list{display:none;position:absolute;left:0;right:0;top:100%;background:var(--bg);border-bottom:1px solid var(--border);padding:12px;gap:12px;flex-direction:column;align-items:flex-start}
  .nav-list.show{display:flex}
}
.topbar *{scrollbar-width:none}
.topbar *::-webkit-scrollbar{display:none}

/* =========================
   BANDA INTERMEDIA (toda la página entre topbar y footer)
   ========================= */
.page{
  position:relative;
  min-height:calc(100vh - var(--topbar-h) - var(--footer-h));
  background:var(--bg-mid);     /* UNA sola capa oscura */
  padding:32px 0;               /* respirito interior */
  overflow:hidden;
}
.page::before{
  /* Glow tenue según la sección (—no hay más cambios de color intermedios—) */
  content:"";
  position:absolute; inset:-15%;
  background:
    radial-gradient(40% 40% at 15% 20%, rgba(var(--sec-rgb),0.12), transparent 60%),
    radial-gradient(35% 35% at 85% 15%, rgba(var(--sec-rgb),0.10), transparent 60%),
    radial-gradient(30% 30% at 50% 95%, rgba(var(--sec-rgb),0.08), transparent 60%);
  filter:blur(32px);
  animation:pageGlow 28s ease-in-out infinite alternate;
  pointer-events:none; z-index:0;
}
.page > *{position:relative;z-index:1}
@keyframes pageGlow{
  0%{transform:translate3d(-1%,-1%,0) scale(1)}
  50%{transform:translate3d(2%,1%,0) scale(1.03)}
  100%{transform:translate3d(-1%,2%,0) scale(1.01)}
}

/* ===== SECTIONS (sin color propio ya) ===== */
.section{padding:24px 0}

/* =========================
   TARJETAS LUMINISCENTES
   ========================= */
.card{
  position:relative; overflow:hidden; isolation:isolate;
  background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.01));
  border:1px solid var(--border); border-radius:14px; padding:14px;
  box-shadow:0 10px 30px rgba(0,0,0,.25), 0 0 0 1px rgba(255,255,255,.06) inset;
}
.card::before{
  content:""; position:absolute; inset:-25%; z-index:0; pointer-events:none;
  background:
    radial-gradient(45% 45% at 20% 30%, rgba(var(--card-rgb),0.15), transparent 60%),
    radial-gradient(40% 40% at 80% 70%, rgba(var(--card-rgb),0.12), transparent 60%);
  filter:blur(28px); animation:cardGlow 22s ease-in-out infinite alternate;
}
.card > *{position:relative; z-index:1}
@keyframes cardGlow{
  0%{transform:translate3d(-2%,1%,0) scale(1)}
  50%{transform:translate3d(2%,-1%,0) scale(1.04)}
  100%{transform:translate3d(-1%,0,0) scale(1.02)}
}
.card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}
.btn{display:inline-block;padding:8px 12px;border-radius:10px;border:1px solid var(--border);text-decoration:none;color:var(--text);background:#141a21}
.btn.primary{background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#0b0d10;border:none}

/* =========================
   FOOTER — NEGRO (como la topbar)
   ========================= */
.site-footer{
  background:var(--bg); color:var(--muted);
  border-top:1px solid var(--border);
  text-align:center; padding:20px 0; min-height:var(--footer-h);
}

/* ===== Player ===== */
.player{position:fixed;right:16px;bottom:16px;background:#141a21;border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);width:320px;max-width:95vw}
.player-header{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;border-bottom:1px solid var(--border)}
.player-body{padding:10px 12px;display:flex;flex-direction:column;gap:10px}
.player-controls{display:flex;gap:10px;align-items:center}
.player-volume{display:flex;align-items:center;gap:8px}
.player-playlist{display:flex;flex-direction:column;gap:6px;max-height:160px;overflow:auto}
.playlist-item{display:flex;justify-content:space-between;gap:8px;align-items:center}
.playing{color:var(--brand)}
.minimized .player-body{display:none}

/* ===== Text effects (vowels/neon/etc) ===== */
.vowel-bounce{font-size:1.1rem;line-height:1.7;text-align:center;margin:20px auto;max-width:860px}
.vowel-bounce .vowel{display:inline-block;animation:hop var(--hop-duration) ease-in-out infinite;will-change:transform}
@keyframes hop{0%{transform:translateY(0)}20%{transform:translateY(calc(-1*var(--hop-height)))}40%{transform:translateY(0)}60%{transform:translateY(calc(-.75*var(--hop-height)))}80%,100%{transform:translateY(0)}}
.fx-neon{position:relative;font-weight:700;animation:neonCycle 3.5s linear infinite;text-shadow:0 0 2px currentColor,0 0 6px currentColor,0 0 12px currentColor}
@keyframes neonCycle{0%{color:#39ff14}25%{color:#00ffff}50%{color:#ffff33}75%{color:#ff073a}100%{color:#39ff14}}
.fx-oscuro{padding:0 4px;border-radius:4px;animation:invertPulse 6s steps(1,end) infinite}
@keyframes invertPulse{0%,45%,100%{color:#fff;background:#000}50%{color:#000;background:#fff}}
.fx-alpha{display:inline-block;animation:alphaBlink var(--alpha-duration) ease-in-out infinite}
@keyframes alphaBlink{0%{opacity:var(--alpha-min)}50%{opacity:var(--alpha-max)}100%{opacity:var(--alpha-min)}}
.fx-spin{display:inline-block;transform-origin:50% 50%;animation:spin360 var(--spin-duration) linear infinite;animation-direction:var(--spin-direction)}
@keyframes spin360{from{transform:rotate(0)}to{transform:rotate(360deg)}}
.fx-vorbit{position:relative;display:inline-block}
.fx-vorbit .ch{position:relative;display:inline-block}
.fx-vorbit .ch.vowel{visibility:hidden}
.fx-vorbit .vorbit-float{position:absolute;left:0;top:0;font:inherit;color:inherit;white-space:pre;pointer-events:none;user-select:none;will-change:transform}
.fx-vorbit.blink{color:var(--vorbit-blink-color);text-shadow:0 0 6px currentColor,0 0 12px currentColor}
@media (prefers-reduced-motion:reduce){
  .vowel-bounce .vowel,.fx-neon,.fx-oscuro,.fx-alpha,.fx-spin{animation:none!important;text-shadow:none!important}
}

/* ===== BLOG / DIARIO ===== */
/* 1 columna: calendario arriba (ancho completo) y lectura debajo (ancho completo) */
.blog-wrap{display:grid;grid-template-columns:1fr;gap:16px}
.cal-panel{background:#141a21;border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);padding:12px}
.cal-toolbar{display:flex;align-items:center;gap:8px;justify-content:space-between;margin-bottom:8px}
.cal-toolbar .controls{display:flex;gap:8px;align-items:center}
.cal-head{font-weight:700;text-align:center;padding:6px 0;border-bottom:1px dashed var(--border)}
#calGrid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px;margin-top:8px}
.cal-cell{background:var(--bg-mid);border:1px solid var(--border);border-radius:8px;padding:10px;cursor:pointer}
.cal-cell:hover{outline:2px solid var(--brand);outline-offset:1px}
.cal-cell.has-entry{background:rgba(102,217,232,.1);border-color:var(--brand)}
#dayRead{background:#141a21;border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);padding:16px;min-height:260px}
#dayRead .muted{color:var(--muted)}

/* ===== Buscador ===== */
.input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#141a21;color:var(--text)}
.results-list .result{border:1px solid var(--border);background:#141a21;border-radius:12px;padding:12px;margin-bottom:10px;box-shadow:var(--shadow)}
.results-list .result-head{display:flex;gap:8px;align-items:center;justify-content:space-between}
.badge{font-size:12px;opacity:.7;border:1px solid var(--border);padding:2px 6px;border-radius:999px}
.result-actions{margin-top:8px}
.btn.btn-small{padding:6px 10px;font-size:14px}

/* ===== Contacto ===== */
.contact-form{padding:16px}
.contact-form .form-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.contact-form .field{display:flex;flex-direction:column}
.contact-form .field-full{grid-column:1 / -1}
.contact-form label{font-size:14px;color:var(--muted);margin-bottom:6px}
.contact-form input,.contact-form textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#141a21;color:var(--text);outline:none}
.contact-form textarea{resize:vertical}
.contact-form input:focus,.contact-form textarea:focus{border-color:var(--brand);box-shadow:0 0 0 3px rgba(102,217,232,.15)}
.contact-form .form-actions{margin-top:12px;display:flex;align-items:center;gap:12px}
.form-status{font-size:14px;color:var(--muted)}
@media (max-width:720px){.contact-form .form-grid{grid-template-columns:1fr}}

/* ===== Colores por sección (glow) ===== */
body[data-section="home"]          { --sec-rgb:102,217,232; --card-rgb:102,217,232; }
body[data-section="servicios"]     { --sec-rgb:124,222,150; --card-rgb:124,222,150; }
body[data-section="about"]         { --sec-rgb:255,92,182;  --card-rgb:255,92,182;  }
body[data-section="blog"]          { --sec-rgb:255,198,93;  --card-rgb:255,198,93;  }
body[data-section="publicaciones"] { --sec-rgb:172,140,255; --card-rgb:172,140,255; }
body[data-section="apps"]          { --sec-rgb:93,173,255;  --card-rgb:93,173,255;  }
body[data-section="proyectos"]     { --sec-rgb:255,153,102; --card-rgb:255,153,102; }
body[data-section="actualidad"]    { --sec-rgb:255,115,115; --card-rgb:255,115,115; }
body[data-section="enlaces"]       { --sec-rgb:140,200,255; --card-rgb:140,200,255; }
body[data-section="buscar"]        { --sec-rgb:160,160,160; --card-rgb:160,160,160; }
body[data-section="contacto"]      { --sec-rgb:255,92,182;  --card-rgb:255,92,182;  }
body[data-section="redes"]         { --sec-rgb:100,210,255; --card-rgb:100,210,255; }
/* ===== Diario: noticia con medios laterales ===== */
.news-entry{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}
.news-body{
  grid-column: 1 / -1;
  line-height: 1.7;
}
.news-media{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 8px;
  box-shadow: var(--shadow);
}
.news-media img,
.news-media video,
.news-media iframe{ display:block; width:100%; border-radius:8px; }
.news-media figcaption{ font-size: 12px; color: var(--muted); margin-top: 6px; }

/* alternar columna: los pares a la derecha, impares a la izquierda */
.news-media.left  { grid-column: 1 / 2; }
.news-media.right { grid-column: 2 / 3; }

@media (max-width: 900px){
  .news-entry{ grid-template-columns: 1fr; }
  .news-media.left, .news-media.right{ grid-column: 1 / -1; }
}
/* ===== Diario: galería izquierda/derecha ===== */
.media-wrap{
  display:grid;
  gap:16px;
  margin-top:12px;
}
.media-card{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 8px;
  box-shadow: var(--shadow);
  max-width: 720px;
}
.media-card img,
.media-card video{
  width: 100%;
  border-radius: 10px;
  display: block;
}

@media (min-width: 900px){
  .media-left  { justify-self: start;  width: 60%; }
  .media-right { justify-self: end;    width: 60%; }
}
@media (max-width: 899px){
  .media-left, .media-right { width: 100%; justify-self: stretch; }
}